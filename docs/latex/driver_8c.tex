\hypertarget{driver_8c}{}\doxysection{src/main/driver.c File Reference}
\label{driver_8c}\index{src/main/driver.c@{src/main/driver.c}}
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include \char`\"{}../../include/parser.\+h\char`\"{}}\newline
Include dependency graph for driver.\+c\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{driver_8c__incl}
\end{center}
\end{figure}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{driver_8c_a1ade15436b308d5973cd74a8b631827d}{remove\+Comments}} (FILE $\ast$input\+\_\+file)
\begin{DoxyCompactList}\small\item\em This function removes all comments and prints the resulting comment-\/free code on the terminal. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{driver_8c_a0ddf1224851353fc92bfbff6f499fa97}{main}} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{driver_8c_a0ddf1224851353fc92bfbff6f499fa97}\label{driver_8c_a0ddf1224851353fc92bfbff6f499fa97}} 
\index{driver.c@{driver.c}!main@{main}}
\index{main@{main}!driver.c@{driver.c}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily int main (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$}]{argv\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Definition at line 30 of file driver.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{30                                 \{}
\DoxyCodeLine{31     \textcolor{keywordflow}{if}(argc != 3)\{}
\DoxyCodeLine{32         printf(\textcolor{stringliteral}{"{}Requires 3 arguments: Usage: \%s <test\_case>.txt <output\_file>.txt\(\backslash\)n"{}}, argv[0]);}
\DoxyCodeLine{33         exit(EXIT\_FAILURE);}
\DoxyCodeLine{34     \}}
\DoxyCodeLine{35     FILE* input\_file = fopen(argv[1], \textcolor{stringliteral}{"{}r"{}});}
\DoxyCodeLine{36     \textcolor{keywordflow}{if} (!input\_file) \{}
\DoxyCodeLine{37         printf(\textcolor{stringliteral}{"{}Error: Could not open \%s.\(\backslash\)n"{}}, argv[1]);}
\DoxyCodeLine{38         exit(EXIT\_FAILURE);}
\DoxyCodeLine{39     \}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     printf(\textcolor{stringliteral}{"{}\(\backslash\)n                      \(\backslash\)033[1;36mCS F363 -\/ Compiler Project \(\backslash\)033[1;92m(Group 14)\(\backslash\)033[0m               \(\backslash\)n"{}});}
\DoxyCodeLine{42     printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m*********************************************************************************\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;35mTeam Members:\(\backslash\)033[0m                                  \(\backslash\)n"{}});}
\DoxyCodeLine{45     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ (2021B4A71134P) Abhiram H \(\backslash\)n"{}});}
\DoxyCodeLine{46     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ (2021B5A71159P) Ankur Renduchintala\(\backslash\)n"{}});    }
\DoxyCodeLine{47     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ (2021B3A71111P) Avyakth Kumar\(\backslash\)n"{}});}
\DoxyCodeLine{48     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ (2021B1A72281P) Suchit Chebolu\(\backslash\)n"{}});}
\DoxyCodeLine{49     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ (2022A7PS0013P) Vikram Hariharan\(\backslash\)n"{}});}
\DoxyCodeLine{50     printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});   }
\DoxyCodeLine{51 }
\DoxyCodeLine{52     printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;35mImplementation details:\(\backslash\)033[0m                        \(\backslash\)n"{}});}
\DoxyCodeLine{53     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ Both lexical and syntax analyzer modules implemented        \(\backslash\)n"{}});}
\DoxyCodeLine{54     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ First and Follow sets automated                             \(\backslash\)n"{}});}
\DoxyCodeLine{55     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ Modules compile with no segmentation fault                  \(\backslash\)n"{}});}
\DoxyCodeLine{56     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ Modules work with all test cases                            \(\backslash\)n"{}});}
\DoxyCodeLine{57     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ Modules work on custom test cases as well                   \(\backslash\)n"{}});}
\DoxyCodeLine{58     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ Parse tree generated in the beautiful prescribed format     \(\backslash\)n"{}});}
\DoxyCodeLine{59     printf(\textcolor{stringliteral}{"{}\(\backslash\)t-\/ No memory leaks with all pointers being freed after use     \(\backslash\)n"{}});}
\DoxyCodeLine{60     printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}}); }
\DoxyCodeLine{61     printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;35mProgram:\(\backslash\)033[0m                                       \(\backslash\)n"{}});}
\DoxyCodeLine{62 }
\DoxyCodeLine{63     \textcolor{keywordflow}{while}(\textcolor{keyword}{true})\{}
\DoxyCodeLine{64         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m+===============================================================================+\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{65         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m|\(\backslash\)033[0m                                      \(\backslash\)033[1;32mMENU\(\backslash\)033[0m                                     \(\backslash\)033[1;34m|\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{66         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m+===============================================================================+\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{67         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m|\(\backslash\)033[0m Press 0 to exit.                                                              \(\backslash\)033[1;34m|\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{68         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m|\(\backslash\)033[0m Press 1 to remove comments and print the comment free code on the console.    \(\backslash\)033[1;34m|\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{69         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m|\(\backslash\)033[0m Press 2 to print the token list, generated by the lexer, on the console.      \(\backslash\)033[1;34m|\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{70         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m|\(\backslash\)033[0m Press 3 to parse and print the parse tree appropriately.                      \(\backslash\)033[1;34m|\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{71         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m|\(\backslash\)033[0m Press 4 to print the total time taken by the code on the console.             \(\backslash\)033[1;34m|\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{72         printf(\textcolor{stringliteral}{"{}\(\backslash\)033[1;34m+===============================================================================+\(\backslash\)033[0m\(\backslash\)n"{}});}
\DoxyCodeLine{73         printf(\textcolor{stringliteral}{"{}Enter your choice: "{}});}
\DoxyCodeLine{74 }
\DoxyCodeLine{75         \textcolor{keywordtype}{char} choice;}
\DoxyCodeLine{76         \mbox{\hyperlink{structTreeNode}{node}}* root = NULL;}
\DoxyCodeLine{77         scanf(\textcolor{stringliteral}{"{}\(\backslash\)n\%c"{}}, \&choice);}
\DoxyCodeLine{78         \textcolor{keywordflow}{switch} (choice) \{}
\DoxyCodeLine{79             \textcolor{keywordflow}{case} \textcolor{charliteral}{'0'}:}
\DoxyCodeLine{80                 printf(\textcolor{stringliteral}{"{}Exiting.\(\backslash\)n"{}});}
\DoxyCodeLine{81                 fclose(input\_file);}
\DoxyCodeLine{82                 exit(EXIT\_SUCCESS);}
\DoxyCodeLine{83                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{84             }
\DoxyCodeLine{85             \textcolor{keywordflow}{case} \textcolor{charliteral}{'1'}:}
\DoxyCodeLine{86                 \mbox{\hyperlink{driver_8c_a1ade15436b308d5973cd74a8b631827d}{removeComments}}(input\_file);}
\DoxyCodeLine{87                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{88 }
\DoxyCodeLine{89             \textcolor{keywordflow}{case} \textcolor{charliteral}{'2'}:}
\DoxyCodeLine{90                 \mbox{\hyperlink{lexer_8h_a78c9ef2940e04bc9cd18a764bdb9e0a5}{buffer\_init}}(input\_file);}
\DoxyCodeLine{91                 \mbox{\hyperlink{structToken}{token}}* tok = NULL;}
\DoxyCodeLine{92                 \textcolor{keywordflow}{while} ((tok = \mbox{\hyperlink{lexer_8h_a68b169dd0377b22e0729c7e7a9988262}{get\_next\_token}}(input\_file)) != NULL) \{}
\DoxyCodeLine{93                     \textcolor{keywordflow}{if}(tok-\/>\mbox{\hyperlink{structToken_a5a92d775c2159bd2d2ddc7647ebe2046}{name}} != \mbox{\hyperlink{lexerDef_8h_aa520fbf142ba1e7e659590c07da31921ac1e4208c0438292c832f0495c9cc8fd0}{TK\_EOF}})\{}
\DoxyCodeLine{94                         fprintf(stdout, \textcolor{stringliteral}{"{}Line no. \%-\/4d Token: \%-\/15s Lexeme: \%s\(\backslash\)n"{}}, tok-\/>\mbox{\hyperlink{structToken_a448126a329a5b7e3ac490ead4f6e5a02}{line\_num}}, \mbox{\hyperlink{lexer_8h_aee1807f4e95bea666b6c994915907414}{token\_to\_string}}(tok-\/>\mbox{\hyperlink{structToken_a5a92d775c2159bd2d2ddc7647ebe2046}{name}}), tok-\/>\mbox{\hyperlink{structToken_a5359a15731f99e3edd4ed3f005919f56}{lexeme}});}
\DoxyCodeLine{95                     \}}
\DoxyCodeLine{96                     \textcolor{keywordflow}{else}\{}
\DoxyCodeLine{97                         \textcolor{keywordflow}{break};}
\DoxyCodeLine{98                     \}}
\DoxyCodeLine{99                     free(tok);}
\DoxyCodeLine{100                     tok = NULL;}
\DoxyCodeLine{101                 \}}
\DoxyCodeLine{102                 free(tok);}
\DoxyCodeLine{103                 tok = NULL;}
\DoxyCodeLine{104                 printf(\textcolor{stringliteral}{"{}\(\backslash\)nLexical analysis complete.\(\backslash\)n"{}});}
\DoxyCodeLine{105                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{106                 }
\DoxyCodeLine{107             \textcolor{keywordflow}{case} \textcolor{charliteral}{'3'}:}
\DoxyCodeLine{108                 \mbox{\hyperlink{lexer_8h_a78c9ef2940e04bc9cd18a764bdb9e0a5}{buffer\_init}}(input\_file);}
\DoxyCodeLine{109                 FILE* output\_file = fopen(argv[2], \textcolor{stringliteral}{"{}w"{}});}
\DoxyCodeLine{110                 root = \mbox{\hyperlink{parser_8h_af8e858bd867bc61808a62e29963b3497}{parse\_code}}(\textcolor{stringliteral}{"{}docs/grammar.txt"{}}, input\_file);}
\DoxyCodeLine{111                 fprintf(output\_file, \textcolor{stringliteral}{"{}+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+\(\backslash\)n"{}});}
\DoxyCodeLine{112                 fprintf(output\_file, \textcolor{stringliteral}{"{}|             Lexeme              |       Current Node         |  Line no. |         Token Name         |     Value    |        Parent Node         |     Leaf     |        Node Symbol        |\(\backslash\)n"{}});}
\DoxyCodeLine{113                 fprintf(output\_file, \textcolor{stringliteral}{"{}|-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/|\(\backslash\)n"{}});}
\DoxyCodeLine{114 }
\DoxyCodeLine{115                 \mbox{\hyperlink{parser_8h_a8c9a76dff4106d2e5eb33c33aa0c85f5}{print\_parse\_tree\_inorder}}(root, NULL, output\_file);       }
\DoxyCodeLine{116                 fprintf(output\_file, \textcolor{stringliteral}{"{}+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/+\(\backslash\)n"{}});}
\DoxyCodeLine{117                 fclose(output\_file);}
\DoxyCodeLine{118                 \mbox{\hyperlink{parser_8h_aad20e8a12c7bfb6d97191c3a26363f1a}{parse\_tree\_cleanup}}(\&root);}
\DoxyCodeLine{119                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{120             }
\DoxyCodeLine{121             \textcolor{keywordflow}{case} \textcolor{charliteral}{'4'}:}
\DoxyCodeLine{122                 \mbox{\hyperlink{lexer_8h_a78c9ef2940e04bc9cd18a764bdb9e0a5}{buffer\_init}}(input\_file);}
\DoxyCodeLine{123                 clock\_t start\_time, end\_time;}
\DoxyCodeLine{124                 \textcolor{keywordtype}{double} total\_CPU\_time, total\_CPU\_time\_in\_seconds;}
\DoxyCodeLine{125                 start\_time = clock();}
\DoxyCodeLine{126                     root = \mbox{\hyperlink{parser_8h_af8e858bd867bc61808a62e29963b3497}{parse\_code}}(\textcolor{stringliteral}{"{}docs/grammar.txt"{}}, input\_file);}
\DoxyCodeLine{127                 end\_time = clock();}
\DoxyCodeLine{128                 total\_CPU\_time = (double)(end\_time -\/ start\_time);}
\DoxyCodeLine{129                 total\_CPU\_time\_in\_seconds = total\_CPU\_time / CLOCKS\_PER\_SEC;}
\DoxyCodeLine{130                 }
\DoxyCodeLine{131                 printf(\textcolor{stringliteral}{"{}Total CPU time: \%lf\(\backslash\)n"{}}, total\_CPU\_time);}
\DoxyCodeLine{132                 printf(\textcolor{stringliteral}{"{}Total CPU time in secs: \%lf s\(\backslash\)n"{}}, total\_CPU\_time\_in\_seconds);}
\DoxyCodeLine{133 }
\DoxyCodeLine{134                 \mbox{\hyperlink{parser_8h_aad20e8a12c7bfb6d97191c3a26363f1a}{parse\_tree\_cleanup}}(\&root);                }
\DoxyCodeLine{135                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{136 }
\DoxyCodeLine{137             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{138                 printf(\textcolor{stringliteral}{"{}Error: Invalid choice.\(\backslash\)n"{}});}
\DoxyCodeLine{139                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{140         \}}
\DoxyCodeLine{141 }
\DoxyCodeLine{142         rewind(input\_file);}
\DoxyCodeLine{143     \}}
\DoxyCodeLine{144 \}}

\end{DoxyCode}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{driver_8c_a0ddf1224851353fc92bfbff6f499fa97_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{driver_8c_a1ade15436b308d5973cd74a8b631827d}\label{driver_8c_a1ade15436b308d5973cd74a8b631827d}} 
\index{driver.c@{driver.c}!removeComments@{removeComments}}
\index{removeComments@{removeComments}!driver.c@{driver.c}}
\doxysubsubsection{\texorpdfstring{removeComments()}{removeComments()}}
{\footnotesize\ttfamily void remove\+Comments (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{input\+\_\+file }\end{DoxyParamCaption})}



This function removes all comments and prints the resulting comment-\/free code on the terminal. 


\begin{DoxyParams}{Parameters}
{\em input\+\_\+file} & File pointer to the source code file from which comments should be removed.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
void -\/ This function doesn\textquotesingle{}t return anything 
\end{DoxyReturn}


Definition at line 13 of file driver.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{13                                       \{}
\DoxyCodeLine{14     \textcolor{keywordtype}{char}* temp = NULL;}
\DoxyCodeLine{15     \textcolor{keywordtype}{size\_t} bufferSize = 0;}
\DoxyCodeLine{16     ssize\_t characters;}
\DoxyCodeLine{17     \textcolor{keywordflow}{while} ((characters = getline(\&temp, \&bufferSize, input\_file)) != -\/1) \{}
\DoxyCodeLine{18         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < characters; i++) \{}
\DoxyCodeLine{19             \textcolor{keywordflow}{if} (temp[i] == \textcolor{charliteral}{'\%'}) \{}
\DoxyCodeLine{20                 printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{21                 \textcolor{keywordflow}{break};}
\DoxyCodeLine{22             \}}
\DoxyCodeLine{23             printf(\textcolor{stringliteral}{"{}\%c"{}}, temp[i]);}
\DoxyCodeLine{24         \}}
\DoxyCodeLine{25     \}}
\DoxyCodeLine{26     printf(\textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{27     free(temp);}
\DoxyCodeLine{28 \}}

\end{DoxyCode}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=264pt]{driver_8c_a1ade15436b308d5973cd74a8b631827d_icgraph}
\end{center}
\end{figure}
